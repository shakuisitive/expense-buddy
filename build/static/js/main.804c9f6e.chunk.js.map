{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Navbar.js","hooks/useLogout.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","hooks/useCollection.js","pages/home/Home.js","pages/login/Login.js","hooks/useLogin.js","hooks/useSignup.js","pages/signup/Signup.js","App.js","index.js"],"names":["module","exports","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","projectAuth","getFirestore","getAuth","db","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","_ref","children","dispatch","useReducer","console","log","useEffect","unsub","onAuthStateChanged","_jsx","Provider","value","useAuthContext","context","useContext","Error","Navbar","logout","isCancelled","setIsCancelled","useState","error","setError","isPending","setIsPending","async","signOut","e","message","useLogout","className","styles","navbar","_jsxs","title","Link","to","_Fragment","displayName","onClick","initialState","document","success","fireStoreReducer","TransactionForm","uid","name","setName","amount","setAmount","transactionInputRef","useRef","addDocument","response","collectionToAddTo","ref","collection","dispatchIfNotCancelled","doc","arguments","length","undefined","addedDocument","addDoc","createdAt","serverTimestamp","deleteDocument","useFirestore","onSubmit","preventDefault","current","focus","onChange","target","required","TransactionList","transactions","currentlyLoggedInUser","transactionsOfLoggedInUser","filter","transaction","seconds","sort","a","b","map","idOfTransactionToDelete","docRef","deleteDoc","handleOnDelete","id","useCollection","neededCollection","documents","setDocuments","onSnapshot","snapshot","results","docs","forEach","push","data","Home","container","content","sidebar","Login","email","setEmail","password","setPassword","login","res","signInWithEmailAndPassword","useLogin","disabled","useSignup","signup","createUserWithEmailAndPassword","updateProfile","Signup","setDisplayName","App","BrowserRouter","Routes","Route","path","element","Navigate","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.804c9f6e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1USVs\",\"content\":\"Home_content__hhRqu\",\"sidebar\":\"Home_sidebar__59F3s\",\"transactions\":\"Home_transactions__2fqWp\",\"name\":\"Home_name__2JLnu\",\"amount\":\"Home_amount__TNBQj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2oMZG\",\"title\":\"Navbar_title__3Yqjq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__2jiNh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__xGI45\"};","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n} from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst projectFirestore = getFirestore(app);\r\nconst projectAuth = getAuth(app);\r\nconst db = getFirestore();\r\n\r\nexport {\r\n  firebaseConfig,\r\n  projectFirestore,\r\n  projectAuth,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n  db,\r\n};\r\n","import { useEffect, createContext, useReducer } from \"react\";\r\nimport { projectAuth } from \"../firebase/config\";\r\n\r\nexport let AuthContext = createContext();\r\n\r\nexport function authReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return { ...state, user: action.payload };\r\n    case \"LOGOUT\":\r\n      return { ...state, user: null };\r\n    case \"AUTH_IS_READY\":\r\n      return { ...state, authIsReady: true, user: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport let AuthContextProvider = ({ children }) => {\r\n  let [state, dispatch] = useReducer(authReducer, {\r\n    user: null,\r\n    authIsReady: false,\r\n  });\r\n\r\n  console.log(\"current state\", state.user);\r\n  useEffect(() => {\r\n    let unsub = projectAuth.onAuthStateChanged((user) => {\r\n      dispatch({ type: \"AUTH_IS_READY\", payload: user });\r\n      unsub();\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ ...state, dispatch }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nfunction useAuthContext() {\r\n  let context = useContext(AuthContext);\r\n\r\n  if (!context) {\r\n    throw new Error(\"Auth Context must be used within suitable children.\");\r\n  }\r\n  return context;\r\n}\r\n\r\nexport default useAuthContext;\r\n","import { Link } from \"react-router-dom\";\r\nimport styles from \"./Navbar.module.css\";\r\nimport useLogout from \"../hooks/useLogout\";\r\nimport useAuthContext from \"../hooks/useAuthContext\";\r\nexport default function Navbar() {\r\n  let { logout } = useLogout();\r\n  let { user } = useAuthContext();\r\n  console.log(user);\r\n  return (\r\n    <nav className={styles.navbar}>\r\n      <ul>\r\n        <li className={styles.title}>\r\n          <Link to={\"/\"}>expenseBuddy</Link>\r\n        </li>\r\n\r\n        {!user && (\r\n          <>\r\n            <li>\r\n              <Link to={\"signup\"}>Signup</Link>\r\n            </li>\r\n            <li>\r\n              <Link to={\"login\"}>Login</Link>\r\n            </li>\r\n          </>\r\n        )}\r\n\r\n        {user && (\r\n          <>\r\n            <li>Hello, {user.displayName}</li>\r\n            <li>\r\n              <button onClick={() => logout()} className=\"btn\">\r\n                Logout\r\n              </button>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { projectAuth } from \"../firebase/config\";\r\nimport useAuthContext from \"./useAuthContext\";\r\n\r\nexport default function useLogout() {\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  let { dispatch } = useAuthContext();\r\n\r\n  let logout = async () => {\r\n    setError(null);\r\n    setIsPending(true);\r\n\r\n    //sign the user out\r\n    try {\r\n      await projectAuth.signOut();\r\n\r\n      //dispatch logout action\r\n      dispatch({ type: \"LOGOUT\" });\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (e) {\r\n      if (!isCancelled) {\r\n        console.log(e.message);\r\n        setError(e.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => setIsCancelled(true), []);\r\n\r\n  return { logout, error, isPending };\r\n}\r\n","import {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport { useState, useReducer, useEffect } from \"react\";\r\nimport {\r\n  db,\r\n  firebaseConfig,\r\n  projectFirestore,\r\n  timestamp,\r\n} from \"../firebase/config\";\r\nimport { initializeApp } from \"firebase/app\";\r\n\r\nlet initialState = {\r\n  document: null,\r\n  isPending: false,\r\n  error: null,\r\n  success: null,\r\n};\r\n\r\nlet fireStoreReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"IS_PENDING\":\r\n      return { isPending: true, document: null, success: false, error: null };\r\n    case \"ADDED_DOCUMENT\":\r\n      return {\r\n        ...state,\r\n        isPending: false,\r\n        document: action.payload,\r\n        success: true,\r\n        error: null,\r\n      };\r\n    case \"ERROR\":\r\n      return {\r\n        ...state,\r\n        isPending: false,\r\n        document: null,\r\n        success: false,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function useFirestore(collectionToAddTo) {\r\n  let [response, dispatch] = useReducer(fireStoreReducer, initialState);\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  // init firebase\r\n  initializeApp(firebaseConfig);\r\n\r\n  // init services\r\n  const db = getFirestore();\r\n\r\n  // collection ref\r\n  const ref = collection(db, collectionToAddTo);\r\n\r\n  // only dispatch if not cancelled\r\n  let dispatchIfNotCancelled = (action) => {\r\n    if (!isCancelled) {\r\n      dispatch(action);\r\n    }\r\n  };\r\n\r\n  // add a document\r\n  let addDocument = async (doc, ...rest) => {\r\n    let { setName, setAmount } = rest[0];\r\n    setName(\"\");\r\n    setAmount(\"\");\r\n    dispatch({ type: \"IS_PENDING\" });\r\n    try {\r\n      // let createdAt = timestamp.fromDate(new Date());\r\n      let addedDocument = await addDoc(ref, {\r\n        ...doc,\r\n        createdAt: serverTimestamp(),\r\n      });\r\n      dispatchIfNotCancelled({\r\n        type: \"ADDED_DOCUMENT\",\r\n        payload: addedDocument,\r\n      });\r\n    } catch (e) {\r\n      dispatchIfNotCancelled({\r\n        type: \"ERROR\",\r\n        payload: e.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  // delete a document\r\n  let deleteDocument = async (id) => {};\r\n\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true);\r\n  }, []);\r\n\r\n  return {\r\n    addDocument,\r\n    deleteDocument,\r\n    response,\r\n  };\r\n}\r\n","import { useState, useRef } from \"react\";\r\nimport { useFirestore } from \"../../hooks/useFirestore\";\r\n\r\nfunction TransactionForm({ uid }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n  let transactionInputRef = useRef(null);\r\n  let { addDocument, response } = useFirestore(\"transactions\");\r\n\r\n  let handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    addDocument({ name, amount, uid }, { setName, setAmount });\r\n    transactionInputRef.current.focus();\r\n  };\r\n  return (\r\n    <>\r\n      <h3>Add a transaction</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Transaction name:</span>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n            required\r\n            ref={transactionInputRef}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Amount ($):</span>\r\n          <input\r\n            type=\"number\"\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            value={amount}\r\n            required\r\n          />\r\n        </label>\r\n        <button>Add Transaction</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TransactionForm;\r\n","import styles from \"./Home.module.css\";\r\nimport useAuthContext from \"../../hooks/useAuthContext\";\r\nimport { db } from \"../../firebase/config\";\r\nimport { deleteDoc, doc } from \"firebase/firestore\";\r\n\r\nfunction TransactionList({ transactions }) {\r\n  let { user: currentlyLoggedInUser } = useAuthContext();\r\n\r\n  let transactionsOfLoggedInUser = transactions.filter(\r\n    (transaction) => transaction.uid === currentlyLoggedInUser.uid\r\n  );\r\n\r\n  // Defensive checks before sorting\r\n  transactionsOfLoggedInUser = transactionsOfLoggedInUser.filter(\r\n    (transaction) =>\r\n      transaction.createdAt && typeof transaction.createdAt.seconds === \"number\"\r\n  );\r\n\r\n  transactionsOfLoggedInUser.sort(\r\n    (a, b) => b.createdAt.seconds - a.createdAt.seconds\r\n  );\r\n\r\n  let handleOnDelete = (idOfTransactionToDelete) => {\r\n    let docRef = doc(db, \"transactions\", idOfTransactionToDelete);\r\n    deleteDoc(docRef);\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.transactions}>\r\n      {transactionsOfLoggedInUser.map((transaction) => (\r\n        <li key={transaction.id}>\r\n          <p className={styles.name}>{transaction.name}</p>\r\n          <p className={styles.amount}>${transaction.amount}</p>\r\n          <button\r\n            onClick={() => {\r\n              handleOnDelete(transaction.id);\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default TransactionList;\r\n","import { collection, onSnapshot } from \"firebase/firestore\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { db, projectFirestore } from \"../firebase/config\";\r\n\r\nfunction useCollection(neededCollection) {\r\n  const [documents, setDocuments] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ref = collection(db, neededCollection);\r\n\r\n    let unsub = onSnapshot(\r\n      ref,\r\n      (snapshot) => {\r\n        let results = [];\r\n        snapshot.docs.forEach((doc) => {\r\n          results.push({ ...doc.data(), id: doc.id });\r\n        });\r\n\r\n        setDocuments(results);\r\n        setError(null);\r\n      },\r\n      (e) => {\r\n        console.log(e); // Log the actual error object\r\n        setError(\"Could not fetch the data\");\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      unsub();\r\n    };\r\n  }, [neededCollection]);\r\n\r\n  return { documents, error };\r\n}\r\n\r\nexport default useCollection;\r\n","import styles from \"./Home.module.css\";\r\n\r\nimport TransactionForm from \"./TransactionForm\";\r\nimport TransactionList from \"./TransactionList\";\r\n\r\nimport useAuthContext from \"../../hooks/useAuthContext\";\r\nimport useCollection from \"../../hooks/useCollection\";\r\n\r\nfunction Home() {\r\n  let { user } = useAuthContext();\r\n  let { documents, error } = useCollection(\"transactions\");\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.content}>\r\n        {error && <p>{error}</p>}\r\n        {documents && <TransactionList transactions={documents} />}\r\n      </div>\r\n      <div className={styles.sidebar}>\r\n        <TransactionForm uid={user.uid} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { useState } from \"react\";\r\nimport useLogin from \"../../hooks/useLogin\";\r\n\r\nimport styles from \"./Login.module.css\";\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  let { login, error, isPending } = useLogin();\r\n\r\n  let handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles[\"login-form\"]}>\r\n      <h2>Login</h2>\r\n      <label>\r\n        <span>Email:</span>\r\n        <input\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          type=\"email\"\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        <span>Password:</span>\r\n        <input\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </label>\r\n\r\n      {isPending ? (\r\n        <button disabled className=\"btn\">\r\n          Logging in...\r\n        </button>\r\n      ) : (\r\n        <button className=\"btn\">Login</button>\r\n      )}\r\n      {error && <p>{error}</p>}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState, useEffect } from \"react\";\r\nimport { projectAuth } from \"../firebase/config\";\r\nimport useAuthContext from \"./useAuthContext\";\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nexport default function useLogin() {\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  let { dispatch } = useAuthContext();\r\n\r\n  let login = async (email, password) => {\r\n    setError(null);\r\n    setIsPending(true);\r\n\r\n    //sign the user out\r\n    try {\r\n      const res = await signInWithEmailAndPassword(\r\n        projectAuth,\r\n        email,\r\n        password\r\n      );\r\n      console.log(res);\r\n      //dispatch login action\r\n      dispatch({ type: \"LOGIN\", payload: res.user });\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (e) {\r\n      if (!isCancelled) {\r\n        console.log(e.message);\r\n        setError(e.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true);\r\n  }, []);\r\n\r\n  return { login, error, isPending };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport {\r\n  projectAuth,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n} from \"../firebase/config\";\r\nimport useAuthContext from \"./useAuthContext\";\r\n\r\nfunction useSignup() {\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  let { dispatch } = useAuthContext();\r\n\r\n  const signup = async (email, password, displayName) => {\r\n    setError(null);\r\n    setIsPending(true);\r\n\r\n    try {\r\n      // sign up user\r\n\r\n      const res = await createUserWithEmailAndPassword(\r\n        projectAuth,\r\n        email,\r\n        password\r\n      );\r\n\r\n      if (!res) {\r\n        throw new Error(\"Could not complete signup\");\r\n      }\r\n\r\n      // add display name to user\r\n      await updateProfile(res.user, { displayName });\r\n\r\n      dispatch({ type: \"LOGIN\", payload: res.user });\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (e) {\r\n      if (!isCancelled) {\r\n        console.log(e.message);\r\n        setError(e.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true);\r\n  }, []);\r\n\r\n  return { error, isPending, signup };\r\n}\r\n\r\nexport default useSignup;\r\n","import { useState } from \"react\";\r\nimport useSignup from \"../../hooks/useSignup\";\r\nimport styles from \"./Signup.module.css\";\r\n\r\nexport default function Signup() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  let { error, isPending, signup } = useSignup();\r\n\r\n  let handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    signup(email, password, displayName);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles[\"signup-form\"]}>\r\n      <h2>Signup</h2>\r\n      <label>\r\n        <span>Email:</span>\r\n        <input\r\n          value={email}\r\n          type=\"text\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        <span>Password:</span>\r\n        <input\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        <span>Display name:</span>\r\n        <input\r\n          value={displayName}\r\n          type=\"text\"\r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n        />\r\n      </label>\r\n\r\n      {!isPending && <button className=\"btn\">Signup</button>}\r\n      {isPending && (\r\n        <button disabled className=\"btn\">\r\n          Loading...\r\n        </button>\r\n      )}\r\n      {error && <p>{error}</p>}\r\n    </form>\r\n  );\r\n}\r\n","import { BrowserRouter, Route, Routes, Navigate } from \"react-router-dom\";\n// components\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\n// custom hooks\nimport useAuthContext from \"./hooks/useAuthContext\";\n// for experimentatiion\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, getDocs, addDoc } from \"firebase/firestore\";\n// delete for experimentation\n\nfunction App() {\n  let { authIsReady, user } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Routes>\n            <Route\n              path=\"/\"\n              element={user ? <Home /> : <Navigate to=\"/login\" />}\n            />\n\n            <Route\n              path=\"login\"\n              element={user ? <Navigate to=\"/\" /> : <Login />}\n            />\n            <Route\n              path=\"signup\"\n              element={user ? <Navigate to=\"/\" /> : <Signup />}\n            />\n          </Routes>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}